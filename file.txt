{{-- <div x-data="{
    isPaying: false,
    init() {
        $wire.$on('snap-token-received', ({ token }) => {
            if (!token) {
                console.error('âŒ Token tidak diterima');
                return;
            }

            if (this.isPaying) {
                console.log('âš ï¸ Masih dalam proses pembayaran...');
                return;
            }

            this.isPaying = true;

            snap.pay(token, {
                onSuccess: (result) => {
                    console.log('âœ… Success', result);
                    this.isPaying = false;

                    // Kirim ke Livewire
                    $wire.handlePayment(result);
                },
                onPending: (result) => {
                    console.log('ðŸ•’ Pending', result);
                    this.isPaying = false;

                    // Kirim ke Livewire
                    $wire.handlePayment(result);
                  },
                  onError: (result) => {
                    console.error('âŒ Error', result);
                    this.isPaying = false;
                    
                    // Kirim ke Livewire
                    $wire.handlePayment(result);
                  },
                  onClose: () => {
                    console.log('âŒ Popup ditutup oleh user');
                    this.isPaying = false;
                },
            });
        });
    }
}" x-init="init"> --}}